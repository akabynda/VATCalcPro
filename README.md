# VATCalcPro

VATCalcPro - это кросс-платформенное Python-приложение для вычисления корректированных цен с НДС и без НДС. Программа включает в себя основную логику расчета, unit-тесты для проверки корректности и командный интерфейс для взаимодействия с пользователем.

## Техническое задание

### Цель

Создать приложение, которое принимает входную цену с НДС и процент НДС, и вычисляет корректированные цены с НДС и без НДС. Цены должны быть обрезаны до двух знаков после запятой без использования функции округления.

### Функциональные требования

1. **Входные параметры:**
   - `input_price_with_nds` (float): Входная цена с НДС.
   - `proc_nds` (int): Процент НДС (от 0 до 99).

2. **Выходные параметры:**
   - `corrected_price_with_nds` (float): Корректированная цена с НДС.
   - `corrected_price_without_nds` (float): Корректированная цена без НДС.

3. **Функциональность:**
   - Расчет корректированной цены без НДС.
   - Расчет корректированной цены с НДС.
   - Обрезка до двух знаков после запятой без округления.

4. **Алгоритм:**
   - Корректированная цена без НДС рассчитывается как: corrected_price_without_nds = input_price_with_nds / (1 + proc_nds / 100)
   - Корректированная цена с НДС рассчитывается как: corrected_price_with_nds = corrected_price_without_nds * (1 + proc_nds / 100)
   - Обрезка до двух знаков после запятой выполняется следующим образом: price = int(price * 100) / 100

## Структура проекта

### `vat_calculator.py`

Содержит класс `VATCalculator`, который выполняет все расчеты.

- **Инициализация (`__init__`)**: Принимает входную цену с НДС и процент НДС, выполняет их валидацию.
- **Валидация параметров (`validate_parameters`)**: Проверяет корректность входных данных.
- **Расчет (`calculate`)**: Вычисляет корректированные цены с НДС и без НДС, обрезает результаты до двух знаков после запятой.

### `test_vat_calculator.py`

Содержит unit-тесты для проверки корректности работы `VATCalculator`.

- **Тестирование корректных расчетов**.
- **Тестирование выброса исключений для некорректных данных**.

### `cli.py`

Командный интерфейс для взаимодействия с пользователем.

- **Основная функция (`main`)**: Позволяет пользователю вводить данные через командную строку и получать результаты расчетов.

## Установка и использование

### Установка

1. **Клонируйте репозиторий**:

   ```bash
   git clone https://github.com/username/VATCalcPro.git
   cd VATCalcPro
   ```

2. **Создайте и активируйте виртуальное окружение**:

   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows: venv\Scripts\activate
   ```

### Запуск

#### Запуск тестов

```bash
python -m unittest tests/test_vat_calculator.py
```

#### Запуск командного интерфейса

Для удобного использования создадим исполняемый файл. Мы будем использовать PyInstaller для этого.

1. **Установите PyInstaller**:

   ```bash
   pip install pyinstaller
   ```

2. **Создайте исполняемый файл**:

   ```bash
   pyinstaller --onefile src/cli.py
   ```

3. **Запустите командный интерфейс из папки dist**:

   Перейдите в папку `dist` и запустите скомпилированный файл:

   - На Mac и Linux:
     ```bash
     ./cli
     ```
   - На Windows:
     ```bash
     cli.exe
     ```

#### Пример использования

1. **Запуск программы**:

   ```bash
   ./dist/cli  # На Mac и Linux
   ./dist/cli.exe  # На Windows
   ```

2. **Пример ввода и вывода**:

   ```
   Введите цену с НДС: 1.81
   Введите процент НДС: 20
   Корректированная цена с НДС: 1.80
   Корректированная цена без НДС: 1.50
   ```